<app-bread-crumb 
    [items]="[{ text: 'Posição por período'}]">
</app-bread-crumb>

<app-page-header
    [headerParams]="{ title: 'Posição por período', btnClass: '', btnLink: '', btnText: '' , showButton: false }"
></app-page-header>

<div class="card">
    <div class="card-header">
        Selecione o período para visualizar os dados
    </div>
    <div class="card-body">
        <form [formGroup]="filtersForm">
            <div class="form-row">
                <div class="form-group col-md-1">
                    <label for="initialDueDate">Data Inicial</label>
                        
                </div>
                <div class="form-group col-md-3">
                    <p-calendar id="initialDueDate" 
                                formControlName="initialDueDate"
                                inputStyleClass="form-control"
                                dateFormat="dd/mm/yy"
                                [locale]="ptBR"
                                [showButtonBar]="true">
                    </p-calendar>
                </div>
                <div class="form-group col-md-1">
                    <label for="finalDueDate">Data Final</label>
                </div>
                <div class="form-group col-md-3">
                    <p-calendar id="finalDueDate" 
                                formControlName="finalDueDate"
                                inputStyleClass="form-control"
                                dateFormat="dd/mm/yy"
                                [locale]="ptBR"
                                [showButtonBar]="true">
                    </p-calendar>
                </div>
                <div class="col-md text-right">
                    <button type="button" (click)="generateReports()" class="btn btn-dark" style="width: 100%;">Processar</button>
                </div>
            </div>    
            
        </form>
    </div>
</div>

<div class="card-deck mt-5 mb-5">
    <!-- RECEITAS -->
    <div class="card text-center text-white bg-success">
        <div class="card-header">
            Total de Receitas
        </div>
        <div class="card-body">
            <h3 class="card-title">
                {{revenueTotal}}
            </h3>
        </div>
    </div>
    <!-- DESPESAS -->
    <div class="card text-center text-white bg-danger">
        <div class="card-header">
            Total de Despesas
        </div>
        <div class="card-body">
            <h3 class="card-title">
                {{expenseTotal}}
            </h3>
        </div>
    </div>
    <!-- SALDO -->
    <div class="card text-center text-white bg-info">
        <div class="card-header">
            Saldo
        </div>
        <div class="card-body">
            <h3 class="card-title">
                {{balance}}
            </h3>
            <small>{{balanceMessage}}</small>
        </div>
    </div>
</div>

<hr>

<div class="row mt-5 mb-4">
    <div class="col-md-6">
        <p-chart 
            type="bar" 
            [data]="revenueChartData"
            [options]="chartOptions"
        ></p-chart>
    </div>
    <div class="col-md-6">
        <p-chart 
            type="bar" 
            [data]="expenseChartData"
            [options]="chartOptions"
        ></p-chart>
    </div>
</div>